---
import { getCollection } from 'astro:content';
import ServiceCard from './ServiceCard.astro';

// Get all services sorted by order
const services = await getCollection('services');
const sortedServices = services.sort((a, b) => a.data.order - b.data.order);
---

<section id="services" class="relative py-20 sm:py-28 bg-night-light overflow-hidden">
	<!-- Decorative stars -->
	<div class="absolute top-16 right-20 text-primary text-2xl opacity-8">✦</div>
	<div class="absolute top-40 left-16 text-primary text-xl opacity-6">✦</div>
	<div class="absolute bottom-32 right-32 text-primary text-3xl opacity-10">✦</div>
	<div class="absolute bottom-16 left-24 text-primary text-2xl opacity-8">✦</div>
	
	<div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="text-center mb-12 sm:mb-16">
			<p class="text-primary font-semibold tracking-wider mb-3 text-sm">SERVICES</p>
			<h2 class="font-serif text-3xl sm:text-4xl text-ivory mb-4">
				How I Can Help
			</h2>
			<p class="text-charcoal-light max-w-2xl mx-auto">
				Every journey is unique. I offer a range of services tailored to support you 
				wherever you are on your path to healing.
			</p>
		</div>
		
		<div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
			{sortedServices.map((service) => (
				<ServiceCard
					title={service.data.title}
					description={service.data.description}
					href={`/services/${service.slug}`}
				>
					<svg slot="icon" class="w-10 h-10 text-primary mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d={service.data.icon} />
					</svg>
				</ServiceCard>
			))}
		</div>
		
		<!-- Scope of Practice -->
		<div class="mt-16 text-center">
			<p class="text-charcoal-light mb-4">Areas of Focus</p>
			<div class="flex flex-wrap justify-center gap-3">
				{['Anxiety', 'Stress Management', 'Anger Management', 'Life Transitions', 'Abandonment', 'Emotional Wellbeing', 'Individuation'].map((area) => (
					<span class="px-4 py-2 bg-night rounded-md text-sm text-charcoal border border-night-lighter">
						{area}
					</span>
				))}
			</div>
		</div>
	</div>
</section>
